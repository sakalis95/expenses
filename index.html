<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Expenses app</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
    </head>
    <body>
        <header id="main-header" class="bg-success text-white p-4 mb-3">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h3 id="header-title">In Memoriam DollarBird</h3>
                    </div>
                    <div class="col-md-6 align-self-center">
                        <input type="text" class="form-control" id="filter" placeholder="Search Items..." />
                    </div>
                </div>
            </div>
        </header>
        <div class="container">
            <div id="main" class="card card-body">
                <h2 class="title">Add your purchases</h2>
                <div id="addForm" class="form-inline mb-3">
                    <input type="date" class="form-control mr-2" id="date">
                    <input type="number" class="form-control mr-2" id="amount" placeholder="Amount" step="any">
                    <input type="text" class="form-control mr-2" id="shop" placeholder="Shop" autocomplete="on">
                    <textarea type="text" class="form-control mr-2" id="goods" placeholder="Goods" autocomplete="on"></textarea>
                    <input type="submit" class="btn btn-dark" value="Submit" onclick="createItem();">
                </div>
                <h2 class="title">Purchases</h2>
                <table class="table table-striped">
                    <thead>
                        <tr class="table-success">
                            <th scope="col" style="width: 12rem" onclick="">Date of purchase</th>
                            <th scope="col" style="width: 6rem" onclick="">Amount</th>
                            <th scope="col" style="width: 6rem" onclick="">Shop</th>
                            <th scope="col" style="width: 30rem">Goods</th>
                        </tr>
                        <tbody id="tbody">
                            <tr>
                                <th id="inputDate"></th>
                                <td id="inputAmount"></td>
                                <td id="inputShop"></td>
                                <td id="inputGoods"></td>
                            </tr>
                        </tbody>
                    </thead>
                </table>
                <ul id="items" class="list-group"></ul>
            </div>
        </div>
    </body>
    <script>
        document.getElementById('date').valueAsDate = new Date();
        let items = [];
        let item = [];
        function createItem() {
            let newItemDate = document.getElementById("date").value;
            let newItemAmount = document.getElementById("amount").value;
            let newItemShop = document.getElementById("shop").value;
            let newItemGoods = document.getElementById("goods").value;
            item.push([newItemDate, newItemAmount, newItemShop, newItemGoods]);
            addItemToStorage(item);
        };

        function addItemToStorage(item) {
            localStorage.setItem("items", JSON.stringify(item));
        };

        // function displayItem() {
            
        // }
        //     // console.log(localStorage.length);
        //     const tbody = document.getElementById("tbody");
        //     const newTr = document.createElement("tr");
        //     // for (let i = 0; i < item.length; i++) {
        //     //     newTr.appendChild(document.createTextNode(item.value)
                
        //     // }
        //     // newTr.appendChild
        //     const inputDate = document.getElementById("inputDate");
        //     const inputAmount = document.getElementById("inputAmount");
        //     const inputShop = document.getElementById("inputShop");
        //     const inputGoods = document.getElementById("inputGoods");
    
        // let addItem = () => {
        //     let item = document.getElementById("input");
        //     items.push(item.value);
        //     localStorage.setItem("items", JSON.stringify(items));
        //     const ul = document.getElementById("ul");
        //     const newLi = document.createElement("li");
        //     newLi.appendChild(document.createTextNode(item.value));
        //     ul.appendChild(newLi);
        // };
        // let clearInput = () => {
        //     document.getElementById("input").value = "";
        // };
        // let displayItems = () => {
        //     let itemsFromStorage = JSON.parse(localStorage.getItem("items"));
        //     const ul = document.getElementById("ul");
        //     for (let i = 0; i < itemsFromStorage.length; i++) {
        //         const newLi = document.createElement("li");
        //         newLi.appendChild(document.createTextNode(itemsFromStorage[i]));
        //         ul.appendChild(newLi);
        //     }
        //     items = itemsFromStorage;
        // };
        // displayItems();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</html>
